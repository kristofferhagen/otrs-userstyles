/* ==UserStyle==
@name           OTRS 8 UserStyles
@namespace      github.com/kristofferhagen/otrs-userstyles
@version        1.1.0
@description    Various improvements to OTRS 8
@author         Kristoffer Hagen [kristoffer.r.hagen@gmail.com]
@preprocessor   less
@license        MIT
@var            text     otrs_instance            "OTRS instance" "'https://otrs.example.com/'"
@var            checkbox smaller_sidebar_enabled  "Enable smaller sidebar" 1
@var            checkbox overflow_fix_enabled  "Enable overflow fix" 1
@var            checkbox priority_color_improvement_enabled  "Enable darkmode priority color improvement" 1
@var            checkbox ticketlist_update_improvement_enabled  "Enable darkmode ticketlist update improvement" 1
==/UserStyle== */

@-moz-document url-prefix(@otrs_instance) {
    & when (@smaller_sidebar_enabled=1) {
        .ColumnLayout.Columns__Two > .ColumnLayout__Content > .row > .col-lg-6:first-child {
            flex: 0 0 66.666667%;
            max-width: 66.666667%;
        }
        .ColumnLayout.Columns__Two > .ColumnLayout__Content > .row > .col-lg-6:last-child {
            flex: 0 0 33.333333%;
            max-width: 33.333333%;
        }
    }

    & when (@overflow_fix_enabled=1) {
        .Widget__Content {
            overflow-x: hidden !important;
            overflow-y: hidden !important;
        }
    }

    & when (@priority_color_improvement_enabled=1) {
        .Style__Dark .Priority[label^="1"] {
            background-color: #161616 !important;
            border-color: #03c4f0 !important;
            color: #e2e7ee !important;
        }
        .Style__Dark .Priority[label^="2"] {
            background-color: #161616 !important;
            border-color: #83bfc8 !important;
            color: #e2e7ee !important;
        }
        .Style__Dark .Priority[label^="3"] {
            background-color: #161616 !important;
            border-color: #cdcdcd !important;
            color: #e2e7ee !important;
        }
        .Style__Dark .Priority[label^="4"] {
            background-color: #161616 !important;
            border-color: #ffaaaa !important;
            color: #e2e7ee !important;
        }
        .Style__Dark .Priority[label^="5"] {
            background-color: #161616 !important;
            border-color: #ff505e !important;
            color: #e2e7ee !important;
        }
    }

    & when (@ticketlist_update_improvement_enabled=1) {
        .Style__Dark .TicketListWidget .RefreshNotification {
            background-color: #161616 !important;
        }
        .Style__Dark .TicketListWidget .BusinessObjectListTable__Row--Removed--Write {
            background-color: #360000 !important;
        }
    }
}
